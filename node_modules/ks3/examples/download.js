var KS3 = require('..');
var path = require('path');
var fs = require('fs');

const { ak, sk, bucketName, region } = require('./const');

var key = 'a.mp4';
var bigFile = path.join(__dirname, '../test/assets/' + key);


var filePath = bigFile;
var fileName = (function(){
	var s = filePath.split('/');
	return s[s.length-1];
})();

var key = `test_${fileName}`;

var client = new KS3(ak, sk, bucketName, region);

const request = client.object.get({
	Key: key,
	isOnprogress: true
}, (err, data, res) => {
	console.log('success...', err)
})

request.downloadListener = function (receivedBytes, totals) {
    console.log("receivedBytes, totals: ", receivedBytes, totals);
}